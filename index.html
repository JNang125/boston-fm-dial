<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Boston FM Interactive Dial</title>
<style>
  body {
    background: #111;
    color: #eee;
    font-family: sans-serif;
    text-align: center;
    padding-top: 30px;
  }
  #dial {
    width: 450px;
    height: 450px;
    margin: 40px auto;
    border: 10px solid #444;
    border-radius: 50%;
    box-shadow: 0 0 25px #f33;
    position: relative;
  }
  .station {
    position: absolute;
    width: 18px;
    height: 18px;
    background: #f33;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 12px #f33;
    transition: 0.2s;
  }
  .station:hover {
    transform: scale(1.5);
  }
  #info {
    margin-top: 15px;
    font-size: 1.2em;
  }
  audio {
    margin-top: 10px;
    width: 90%;
    max-width: 500px;
  }
  #embedPlayer {
    margin: 20px auto;
    width: 300px;
    height: 150px;
    border: none;
    display: none;
  }
</style>
</head>
<body>
<h1>üéôÔ∏è Boston FM Interactive Dial</h1>
<div id="dial"></div>
<div id="info">Click a station to play</div>
<audio id="player" controls></audio>
<br />
<iframe id="embedPlayer" allow="autoplay" allowfullscreen></iframe>

<script>
const stations = [
  // Direct streams:
  {name:'WGBH 89.7',freq:89.7,type:'stream',url:'https://wgbh-live.streamguys1.com/wgbh'},
  {name:'WBUR 90.9',freq:90.9,type:'stream',url:'https://playerservices.streamtheworld.com/api/livestream-redirect/WBURFM.mp3'},
  {name:'WERS 88.9',freq:88.9,type:'stream',url:'https://playerservices.streamtheworld.com/api/livestream-redirect/WERSFM.mp3'},
  {name:'WBOS 92.9',freq:92.9,type:'stream',url:'https://playerservices.streamtheworld.com/api/livestream-redirect/WBOSFM.mp3'},
  {name:'WJMN 94.5',freq:94.5,type:'stream',url:'https://playerservices.streamtheworld.com/api/livestream-redirect/WJMNFM_AAC'},
  {name:'WMJX 106.7',freq:106.7,type:'stream',url:'https://live.wmjx.com/stream'},

  // Embed players:
  {name:'WUMB 91.9',freq:91.9,type:'embed',url:'https://tunein.com/embed/player/s24110?autoplay=false'},
  {name:'WXRV 92.5',freq:92.5,type:'embed',url:'https://tunein.com/embed/player/s32280?autoplay=false'},
  {name:'WZRM 97.7',freq:97.7,type:'embed',url:'https://tunein.com/embed/player/s26195?autoplay=false'},
  {name:'WZBC 90.3',freq:90.3,type:'embed',url:'https://tunein.com/embed/player/s24321?autoplay=false'},
  {name:'WBGB 103.3',freq:103.3,type:'embed',url:'https://tunein.com/embed/player/s21639?autoplay=false'}
];

const dial = document.getElementById('dial');
const player = document.getElementById('player');
const info = document.getElementById('info');
const embedPlayer = document.getElementById('embedPlayer');

stations.forEach(st => {
  const angle = (st.freq - 88) / (107.9 - 88) * 360;
  const rad = angle * Math.PI / 180;
  const x = 225 + 190 * Math.cos(rad) - 9;
  const y = 225 + 190 * Math.sin(rad) - 9;

  const el = document.createElement('div');
  el.className = 'station';
  el.title = st.name + (st.type === 'stream' ? ' (Direct Stream)' : ' (Embed Player)');
  el.style.left = x + 'px';
  el.style.top = y + 'px';
  el.onclick = () => {
    if(st.type === 'stream'){
      embedPlayer.style.display = 'none';
      embedPlayer.src = '';
      player.src = st.url;
      player.play();
      info.textContent = `üîä Now playing: ${st.name}`;
    } else if(st.type === 'embed'){
      player.pause();
      player.src = '';
      embedPlayer.src = st.url;
      embedPlayer.style.display = 'block';
      info.textContent = `üîä Now playing (embed): ${st.name}`;
    }
  };
  dial.appendChild(el);
});
</script>
</body>
</html>

